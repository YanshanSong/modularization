<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>私有空间的划分</title>
</head>
<body>
	<script>
		(function(calculator){
			// calc_v2017.js
			// 计算模块
			function convert(input){
				return parseFloat(input);
			}
			calculator.add = function (a,b) {
				return convert(a) + convert(b);
			}
			calculator.subtract = function (a,b) {
				return convert(a) - convert(b);
			}
			calculator.multiply = function (a,b) {
				return convert(a) * convert(b);
			}
			calculator.divid = function (a,b) {
				return convert(a) / convert(b);
			}
			window.calculator = calculator; 
			//将创建、修改的模块挂回全局
		})(window.calculator || {});

		//新增需求 取余
		(function(calculator){
			function convert(input){
				return parseFloat(input);
			}
			// calculator 
			// 如果存在的话，就是扩展，不存在就是增加
			calculator.remain = function(a,b){
				return convert(a) % convert(b);
			}
			window.calculator = calculator; 
			//将创建、修改的模块挂回全局
		})(window.calculator || {})
		// 开闭原则，对新增开放，对修改关闭

		// ======================
		window.onload = function(){
			var ta = document.getElementById('txt_a');
			var tb = document.getElementById('txt_b');
			var tres = document.getElementById('txt_res');
			var btn = document.getElementById('btn');
			var op = document.getElementById('sel_op');

			btn.onclick = function(){
				switch(op.value){
					case '+':
					tres.value = calculator.add(ta.value,tb.value);
					break;

					case '-':
					tres.value = calculator.subtract(ta.value,tb.value);
					break;

					case '×':
					tres.value = calculator.multiply(ta.value,tb.value);
					break;

					case '÷':
					tres.value = calculator.divid(ta.value,tb.value);
					break;

					case '%':
					tres.value = calculator.remain(ta.value,tb.value);
					break;
				}
			}
		}
	</script>
</head>
<body>
	<input type="text" id="txt_a" name="" >
	<select id="sel_op">
		<option value="+">+</option>
		<option value="-">-</option>
		<option value="×">×</option>
		<option value="÷">÷</option>
		<option value="%">%</option>
	</select>
	<input type="text" id="txt_b" name="">
	<input type="button" id="btn" value="=">
	<input type="text" id="txt_res">
  <!-- 需要实现计算的功能 -->
</body>
</html>