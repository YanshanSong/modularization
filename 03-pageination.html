<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
</head>
<body>
	<nav aria-label="Page navigation">
	  <ul class="pagination">
	    <!-- <li>
	      <a href="#" aria-label="Previous">
	        <span aria-hidden="true">&laquo;</span>
	      </a>
	    </li> -->
	    <!-- <li>
	      <a href="#" aria-label="Next">
	        <span aria-hidden="true">&raquo;</span>
	      </a>
	    </li> -->
	  </ul>
	</nav>
	<script>
	  // 当前页
		var current = 1;   // 3 4 5
		// 共有几页
		var total = 20;
		// 显示几个(单数)
		var show = 5;
		// 1.根据显示数量算出正常情况当前页的左右各有几个
		var region = Math.floor(show / 2);
		// 2.计算出当前界面上的起始值
		var begin = current - region;   //可能小于1
		begin = begin < 1 ? 1 : begin;

		var end = begin + show - 1;
		// end = end > total ? total : end;

		// for (var i = begin; i <= end; i++) {
		// 	console.log(i);
		// }

		// 始终保持显示个数
		if(end > total) {
			end = total ;
			begin = end - show + 1;
			begin = begin < 1 ? 1 : begin;   //这一步的校验很重要
		}
		//校验两个极端值
		//考虑total < show

		// 获取分页容器
		var container = document.getElementsByClassName('pagination')[0];
		//先append上一页
		var preElement = document.createElement('li');
		preElement.innerHTML = '<a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>';
		container.appendChild(preElement);
		if(current == 1){
			preElement.setAttribute('class','disabled');
		}

		//分页
		for(var i = begin; i <= end; i++){
			var liElement = document.createElement('li');
			liElement.innerHTML = '<a href="#">' + i + '</a>';
			container.appendChild(liElement);
			if(i == current) {
				liElement.setAttribute('class', 'active');       
			}
		}

		//再append下一页
		var nextElement = document.createElement('li');
		nextElement.innerHTML = '<a href="#" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>'
		container.appendChild(nextElement)
		if(current == total){
			nextElement.setAttribute('class','disabled');
		}

	</script>
</body>
</html>